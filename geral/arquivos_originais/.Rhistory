arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
# Muda o nome do 2turno_aecio
if ("2turno_aecio" %in% names(arquivo)) {
arquivo[[2turno_aecio]] = as.character(arquivo[[2turno_aecio]])
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[[2turno_campos]] <- as.character(arquivo[[2turno_campos)
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
# Muda o nome do 2turno_aecio
if ("capeta" %in% names(arquivo)) {
arquivo[[2turno_aecio]] = as.character(arquivo[[2turno_aecio]])
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[[2turno_campos]] <- as.character(arquivo[[2turno_campo]]s)
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
# Muda o nome do 2turno_aecio
if ("2turno_aecio" %in% names(arquivo)) {
arquivo$2turno_aecio = as.character(arquivo$2turno_aecio)
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[[2turno_campos]] <- as.character(arquivo[[2turno_campos]])
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do 2turno_aecio
if ("2turno_aecio" %in% names(arquivo)) {
arquivo[[2turno_aecio]] = as.character(arquivo[[2turno_aecio]])
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_aecio]][arquivo[[2turno_aecio]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[[2turno_campos]] <- as.character(arquivo[[2turno_campos]])
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do 2turno_aecio
if ("2turno_aecio" %in% names(arquivo)) {
print("oi")
}
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[[2turno_campos]] <- as.character(arquivo[[2turno_campos]])
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[[2turno_campos]][arquivo[[2turno_campos]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
return(arquivo)
}
#função que reagrega a resposta das perguntas - interesse, vida hoje, etc
reagrega_perguntas = function(arquivo) {
# Reagrega a variável satisfacao com a vida (satisf)
if ("vida_hoje" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Satisfeito','Insatisfeito','NS/NR*'))
satisf=sort(unique(arquivo$vida_hoje))
arquivo$temp[arquivo$vida_hoje==satisf[1]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[2]]='Satisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[3]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje==satisf[4]]='Insatisfeito'
arquivo$temp[arquivo$vida_hoje =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$vida_hoje = NULL
names(arquivo)[names(arquivo)=="temp"] = "vida_hoje"
}
# Reagrega a variável avaliacao do governo (aval)
if("avaliacao_governo" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Ótimo e bom','Regular','Ruim e péssimo','NS/NR*'))
aval=sort(unique(arquivo$avaliacao_governo))
arquivo$temp[arquivo$avaliacao_governo==aval[1]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[2]]='Ótimo e bom'
arquivo$temp[arquivo$avaliacao_governo==aval[3]]='Regular'
arquivo$temp[arquivo$avaliacao_governo==aval[4]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo==aval[5]]='Ruim e péssimo'
arquivo$temp[arquivo$avaliacao_governo =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$avaliacao_governo = NULL
names(arquivo)[names(arquivo)=="temp"] = "avaliacao_governo"
}
# Reagrega a variável mudanca
if ("desejo_mudanca" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Quer mudança','Quer continuidade','NS/NR*'))
mudanca=sort(unique(arquivo$desejo_mudanca))
arquivo$temp[arquivo$desejo_mudanca==mudanca[1]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[2]]='Quer mudança'
arquivo$temp[arquivo$desejo_mudanca==mudanca[3]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca==mudanca[4]]='Quer continuidade'
arquivo$temp[arquivo$desejo_mudanca =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$desejo_mudanca = NULL
names(arquivo)[names(arquivo)=="temp"] = "desejo_mudanca"
}
# Reagrega a variável interesse
if ("interesse" %in% names(arquivo)) {
arquivo$temp=factor(NA,levels=c('Tem muito interesse','Tem médio interesse','Não tem interesse','NS/NR*'))
interesse=sort(unique(arquivo$interesse))
arquivo$temp[arquivo$interesse==interesse[1]]='Tem muito interesse'
arquivo$temp[arquivo$interesse==interesse[2]]='Tem médio interesse'
arquivo$temp[arquivo$interesse==interesse[3]]='Não tem interesse'
arquivo$temp[arquivo$interesse==interesse[4]]='Não tem interesse'
arquivo$temp[arquivo$interesse =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$interesse = NULL
names(arquivo)[names(arquivo)=="temp"] = "interesse"
}
# Reagrega os nanicos nas votações espontaneas
if ("intencao_espontanea" %in% names(arquivo)) {
candidatos = c('Aécio Neves','Dilma Rousseff','Eduardo Campos','Marina Silva','Lula','Pastor Everaldo','Branco e Nulo','NS/NR*','Outros')
arquivo$intencao_espontanea <- as.character(arquivo$intencao_espontanea)
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_espontanea[arquivo$intencao_espontanea =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_espontanea[!(arquivo$intencao_espontanea %in% candidatos)]='Outros'
}
# Reagrega os nanicos nas votações estimuladas
if ("intencao_estimulada" %in% names(arquivo)) {
arquivo$intencao_estimulada <- as.character(arquivo$intencao_estimulada)
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo$intencao_estimulada[arquivo$intencao_estimulada =="Branco/ Nulo"]='Branco e Nulo'
arquivo$intencao_estimulada[!(arquivo$intencao_estimulada %in% candidatos)]='Outros'
}
# Muda o nome do 2turno_aecio
if ("2turno_aecio" %in% names(arquivo)) {
arquivo[["2turno_aecio"]] = as.character(arquivo[["2turno_aecio"]])
arquivo[["2turno_aecio"]][arquivo[["2turno_aecio"]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[["2turno_aecio"]][arquivo[["2turno_aecio"]] =="Branco/ Nulo"]='Branco e Nulo'  }
# Muda o nome do 2turno_campos
if ("2turno_campos" %in% names(arquivo)) {
arquivo[["2turno_campos"]] <- as.character(arquivo[["2turno_campos"]])
arquivo[["2turno_campos"]][arquivo[["2turno_campos"]] =="Não sabe/ Não respondeu"]='NS/NR*'
arquivo[["2turno_campos"]][arquivo[["2turno_campos"]] =="Branco/ Nulo"]='Branco e Nulo'
}
# Muda o nome do avalia_dilma
if ("aprova_dilma" %in% names(arquivo)) {
arquivo$aprova_dilma <- as.character(arquivo$aprova_dilma)
arquivo$aprova_dilma[arquivo$aprova_dilma =="Não sabe/ Não respondeu"]='NS/NR*'
}
return(arquivo)
}
